"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/task";
exports.ids = ["pages/api/task"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("moment");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "(api)/./middlewares/database.ts":
/*!*********************************!*\
  !*** ./middlewares/database.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"connectToDB\": () => (/* binding */ connectToDB)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst connectToDB = (handler)=>async (req, res)=>{\n        console.log(\"Mongo est\\xe1 conectado?\", (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connections[0].readyState) === 1 ? \"Sim\" : \"N\\xe3o\");\n        if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connections[0].readyState) === 1) {\n            return handler(req, res);\n        }\n        const { DB_CONNECTION_STRING  } = process.env;\n        if (!DB_CONNECTION_STRING) {\n            return res.status(500).json({\n                error: \"Env DB_CONNECTION_STRING n\\xe3o informada.\"\n            });\n        }\n        mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on(\"connected\", ()=>console.log(\"Conectado com sucesso\"));\n        mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on(\"error\", (error)=>console.log(\"Ocorreu erro ao connectar com o banco:\", error));\n        await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(DB_CONNECTION_STRING);\n        return handler(req, res);\n    };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9taWRkbGV3YXJlcy9kYXRhYmFzZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFJekIsTUFBTUMsY0FBYyxDQUFDQyxVQUN4QixPQUFPQyxLQUFxQkMsTUFBNkM7UUFFekVDLFFBQVFDLEdBQUcsQ0FBQyw0QkFBeUJOLDJFQUFrQyxLQUFLLElBQUksUUFBUSxRQUFLO1FBQzdGLElBQUdBLDJFQUFrQyxLQUFLLEdBQUU7WUFDeEMsT0FBT0UsUUFBUUMsS0FBS0M7UUFDeEIsQ0FBQztRQUVELE1BQU0sRUFBQ0sscUJBQW9CLEVBQUMsR0FBR0MsUUFBUUMsR0FBRztRQUMxQyxJQUFHLENBQUNGLHNCQUFxQjtZQUNyQixPQUFPTCxJQUFJUSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFDQyxPQUFPO1lBQXlDO1FBQ2pGLENBQUM7UUFFRGQsNkRBQXNCLENBQUMsYUFBYSxJQUFNSyxRQUFRQyxHQUFHLENBQUM7UUFDdEROLDZEQUFzQixDQUFDLFNBQVNjLENBQUFBLFFBQVNULFFBQVFDLEdBQUcsQ0FBQywwQ0FBMENRO1FBQy9GLE1BQU1kLHVEQUFnQixDQUFDUztRQUV2QixPQUFPUCxRQUFRQyxLQUFLQztJQUN4QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VyZW5jaWFkb3ItdGFyZWZhcy1uZXh0MmFvanIvLi9taWRkbGV3YXJlcy9kYXRhYmFzZS50cz9mMWI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCB7IE5leHRBcGlIYW5kbGVyLCBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcbmltcG9ydCB7IERlZmF1bHRNc2dSZXNwb25zZSB9IGZyb20gXCIuLi90eXBlcy9EZWZhdWx0TXNnUmVzcG9uc2VcIjtcblxuZXhwb3J0IGNvbnN0IGNvbm5lY3RUb0RCID0gKGhhbmRsZXI6IE5leHRBcGlIYW5kbGVyKSA9PlxuICAgIGFzeW5jIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZTxEZWZhdWx0TXNnUmVzcG9uc2U+KSA9PiB7XG5cbiAgICBjb25zb2xlLmxvZygnTW9uZ28gZXN0w6EgY29uZWN0YWRvPycsIG1vbmdvb3NlLmNvbm5lY3Rpb25zWzBdLnJlYWR5U3RhdGUgPT09IDEgPyAnU2ltJyA6ICdOw6NvJyk7XG4gICAgaWYobW9uZ29vc2UuY29ubmVjdGlvbnNbMF0ucmVhZHlTdGF0ZSA9PT0gMSl7XG4gICAgICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcbiAgICB9XG5cbiAgICBjb25zdCB7REJfQ09OTkVDVElPTl9TVFJJTkd9ID0gcHJvY2Vzcy5lbnY7XG4gICAgaWYoIURCX0NPTk5FQ1RJT05fU1RSSU5HKXtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjogJ0VudiBEQl9DT05ORUNUSU9OX1NUUklORyBuw6NvIGluZm9ybWFkYS4nfSk7XG4gICAgfVxuXG4gICAgbW9uZ29vc2UuY29ubmVjdGlvbi5vbignY29ubmVjdGVkJywgKCkgPT4gY29uc29sZS5sb2coJ0NvbmVjdGFkbyBjb20gc3VjZXNzbycpKTtcbiAgICBtb25nb29zZS5jb25uZWN0aW9uLm9uKCdlcnJvcicsIGVycm9yID0+IGNvbnNvbGUubG9nKCdPY29ycmV1IGVycm8gYW8gY29ubmVjdGFyIGNvbSBvIGJhbmNvOicsIGVycm9yKSk7XG4gICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdChEQl9DT05ORUNUSU9OX1NUUklORyk7XG5cbiAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcyk7XG59Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiY29ubmVjdFRvREIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiY29uc29sZSIsImxvZyIsImNvbm5lY3Rpb25zIiwicmVhZHlTdGF0ZSIsIkRCX0NPTk5FQ1RJT05fU1RSSU5HIiwicHJvY2VzcyIsImVudiIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbm5lY3Rpb24iLCJvbiIsImNvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./middlewares/database.ts\n");

/***/ }),

/***/ "(api)/./middlewares/jwt.ts":
/*!****************************!*\
  !*** ./middlewares/jwt.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"jwtValidator\": () => (/* binding */ jwtValidator)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\nconst jwtValidator = (handler)=>async (req, res)=>{\n        const { MY_SECRET_KEY  } = process.env;\n        if (!MY_SECRET_KEY) {\n            return res.status(500).json({\n                error: \"Env MY_SECRET_KEY n\\xe3o informada.\"\n            });\n        }\n        const message = \"N\\xe3o foi poss\\xedvel validar o token de acesso.\";\n        if (!req || !req.headers) {\n            return res.status(401).json({\n                error: message\n            });\n        }\n        if (req.method !== \"OPTION\") {\n            const authorization = req.headers[\"authorization\"];\n            if (!authorization) {\n                return res.status(401).json({\n                    error: message\n                });\n            }\n            const token = authorization.substring(7);\n            if (!token) {\n                return res.status(401).json({\n                    error: message\n                });\n            }\n            try {\n                const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.verify(token, MY_SECRET_KEY);\n                if (!decoded) {\n                    return res.status(401).json({\n                        error: message\n                    });\n                }\n                if (req.body) {\n                    req.body.userId = decoded._id;\n                } else if (req.query) {\n                    req.query.userId = decoded._id;\n                }\n            } catch (e) {\n                console.log(\"N\\xe3o foi poss\\xedvel validar o token de acesso\", e);\n                return res.status(401).json({\n                    error: message\n                });\n            }\n        }\n        return handler(req, res);\n    };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9taWRkbGV3YXJlcy9qd3QudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBR29DO0FBRTdCLE1BQU1DLGVBQWUsQ0FBQ0MsVUFDekIsT0FBT0MsS0FBcUJDLE1BQTZDO1FBRXpFLE1BQU0sRUFBQ0MsY0FBYSxFQUFDLEdBQUdDLFFBQVFDLEdBQUc7UUFDbkMsSUFBRyxDQUFDRixlQUFjO1lBQ2QsT0FBT0QsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBQ0MsT0FBTztZQUFrQztRQUMxRSxDQUFDO1FBRUQsTUFBTUMsVUFBVTtRQUNoQixJQUFHLENBQUNSLE9BQU8sQ0FBQ0EsSUFBSVMsT0FBTyxFQUFDO1lBQ3BCLE9BQU9SLElBQUlJLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUNDLE9BQU9DO1lBQU87UUFDL0MsQ0FBQztRQUVELElBQUdSLElBQUlVLE1BQU0sS0FBSyxVQUFTO1lBQ3ZCLE1BQU1DLGdCQUFnQlgsSUFBSVMsT0FBTyxDQUFDLGdCQUFnQjtZQUVsRCxJQUFHLENBQUNFLGVBQWM7Z0JBQ2QsT0FBT1YsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBQ0MsT0FBT0M7Z0JBQU87WUFDL0MsQ0FBQztZQUVELE1BQU1JLFFBQVFELGNBQWNFLFNBQVMsQ0FBQztZQUN0QyxJQUFHLENBQUNELE9BQU07Z0JBQ04sT0FBT1gsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBQ0MsT0FBT0M7Z0JBQU87WUFDL0MsQ0FBQztZQUVELElBQUc7Z0JBQ0MsTUFBTU0sVUFBVWpCLGdEQUFVLENBQUNlLE9BQU9WO2dCQUVsQyxJQUFHLENBQUNZLFNBQVE7b0JBQ1IsT0FBT2IsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQzt3QkFBQ0MsT0FBT0M7b0JBQU87Z0JBQy9DLENBQUM7Z0JBRUQsSUFBR1IsSUFBSWdCLElBQUksRUFBQztvQkFDUmhCLElBQUlnQixJQUFJLENBQUNDLE1BQU0sR0FBR0gsUUFBUUksR0FBRztnQkFDakMsT0FBTSxJQUFHbEIsSUFBSW1CLEtBQUssRUFBQztvQkFDZm5CLElBQUltQixLQUFLLENBQUNGLE1BQU0sR0FBR0gsUUFBUUksR0FBRztnQkFDbEMsQ0FBQztZQUNMLEVBQUMsT0FBTUUsR0FBRTtnQkFDTEMsUUFBUUMsR0FBRyxDQUFDLG9EQUE4Q0Y7Z0JBQzFELE9BQU9uQixJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFDQyxPQUFPQztnQkFBTztZQUMvQztRQUNKLENBQUM7UUFFRCxPQUFPVCxRQUFRQyxLQUFLQztJQUN4QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VyZW5jaWFkb3ItdGFyZWZhcy1uZXh0MmFvanIvLi9taWRkbGV3YXJlcy9qd3QudHM/NTNiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IE5leHRBcGlIYW5kbGVyLCBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcbmltcG9ydCB7IERlZmF1bHRNc2dSZXNwb25zZSB9IGZyb20gXCIuLi90eXBlcy9EZWZhdWx0TXNnUmVzcG9uc2VcIjtcbmltcG9ydCAqIGFzIGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5leHBvcnQgY29uc3Qgand0VmFsaWRhdG9yID0gKGhhbmRsZXI6IE5leHRBcGlIYW5kbGVyKSA9PlxuICAgIGFzeW5jIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZTxEZWZhdWx0TXNnUmVzcG9uc2U+KSA9PiB7XG5cbiAgICBjb25zdCB7TVlfU0VDUkVUX0tFWX0gPSBwcm9jZXNzLmVudjtcbiAgICBpZighTVlfU0VDUkVUX0tFWSl7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7ZXJyb3I6ICdFbnYgTVlfU0VDUkVUX0tFWSBuw6NvIGluZm9ybWFkYS4nfSk7XG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZSA9ICdOw6NvIGZvaSBwb3Nzw612ZWwgdmFsaWRhciBvIHRva2VuIGRlIGFjZXNzby4nO1xuICAgIGlmKCFyZXEgfHwgIXJlcS5oZWFkZXJzKXtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtlcnJvcjogbWVzc2FnZX0pO1xuICAgIH1cblxuICAgIGlmKHJlcS5tZXRob2QgIT09ICdPUFRJT04nKXtcbiAgICAgICAgY29uc3QgYXV0aG9yaXphdGlvbiA9IHJlcS5oZWFkZXJzWydhdXRob3JpemF0aW9uJ107XG5cbiAgICAgICAgaWYoIWF1dGhvcml6YXRpb24pe1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtlcnJvcjogbWVzc2FnZX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG9rZW4gPSBhdXRob3JpemF0aW9uLnN1YnN0cmluZyg3KTtcbiAgICAgICAgaWYoIXRva2VuKXtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7ZXJyb3I6IG1lc3NhZ2V9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeXtcbiAgICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBNWV9TRUNSRVRfS0VZKSBhcyBqd3QuSnd0UGF5bG9hZDtcblxuICAgICAgICAgICAgaWYoIWRlY29kZWQpe1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7ZXJyb3I6IG1lc3NhZ2V9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYocmVxLmJvZHkpe1xuICAgICAgICAgICAgICAgIHJlcS5ib2R5LnVzZXJJZCA9IGRlY29kZWQuX2lkO1xuICAgICAgICAgICAgfWVsc2UgaWYocmVxLnF1ZXJ5KXtcbiAgICAgICAgICAgICAgICByZXEucXVlcnkudXNlcklkID0gZGVjb2RlZC5faWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1jYXRjaChlKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOw6NvIGZvaSBwb3Nzw612ZWwgdmFsaWRhciBvIHRva2VuIGRlIGFjZXNzbycsIGUpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtlcnJvcjogbWVzc2FnZX0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhbmRsZXIocmVxLCByZXMpO1xufSJdLCJuYW1lcyI6WyJqd3QiLCJqd3RWYWxpZGF0b3IiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiTVlfU0VDUkVUX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJtZXNzYWdlIiwiaGVhZGVycyIsIm1ldGhvZCIsImF1dGhvcml6YXRpb24iLCJ0b2tlbiIsInN1YnN0cmluZyIsImRlY29kZWQiLCJ2ZXJpZnkiLCJib2R5IiwidXNlcklkIiwiX2lkIiwicXVlcnkiLCJlIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./middlewares/jwt.ts\n");

/***/ }),

/***/ "(api)/./models/TaskModel.ts":
/*!*****************************!*\
  !*** ./models/TaskModel.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TaskModel\": () => (/* binding */ TaskModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst TaskSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    userId: {\n        type: String,\n        required: true\n    },\n    name: {\n        type: String,\n        required: true\n    },\n    finishPrevisionDate: {\n        type: Date,\n        required: true\n    },\n    finishDate: {\n        type: Date\n    }\n});\nconst TaskModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.tasks) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"tasks\", TaskSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvVGFza01vZGVsLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwQztBQUUxQyxNQUFNRSxhQUFhLElBQUlELDRDQUFNQSxDQUFDO0lBQzFCRSxRQUFPO1FBQUNDLE1BQU1DO1FBQVFDLFVBQVUsSUFBSTtJQUFBO0lBQ3BDQyxNQUFLO1FBQUNILE1BQU1DO1FBQVFDLFVBQVUsSUFBSTtJQUFBO0lBQ2xDRSxxQkFBb0I7UUFBQ0osTUFBTUs7UUFBTUgsVUFBVSxJQUFJO0lBQUE7SUFDL0NJLFlBQVc7UUFBQ04sTUFBTUs7SUFBSTtBQUMxQjtBQUVPLE1BQU1FLFlBQVlYLDhEQUFxQixJQUMxQ0EscURBQWMsQ0FBQyxTQUFTRSxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VyZW5jaWFkb3ItdGFyZWZhcy1uZXh0MmFvanIvLi9tb2RlbHMvVGFza01vZGVsLnRzP2E3YWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgVGFza1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIHVzZXJJZDp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXG4gICAgbmFtZTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXG4gICAgZmluaXNoUHJldmlzaW9uRGF0ZTp7dHlwZTogRGF0ZSwgcmVxdWlyZWQ6IHRydWV9LFxuICAgIGZpbmlzaERhdGU6e3R5cGU6IERhdGV9XG59KTtcblxuZXhwb3J0IGNvbnN0IFRhc2tNb2RlbCA9IG1vbmdvb3NlLm1vZGVscy50YXNrcyB8fFxuICAgIG1vbmdvb3NlLm1vZGVsKCd0YXNrcycsIFRhc2tTY2hlbWEpOyJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIlRhc2tTY2hlbWEiLCJ1c2VySWQiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJuYW1lIiwiZmluaXNoUHJldmlzaW9uRGF0ZSIsIkRhdGUiLCJmaW5pc2hEYXRlIiwiVGFza01vZGVsIiwibW9kZWxzIiwidGFza3MiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/TaskModel.ts\n");

/***/ }),

/***/ "(api)/./models/UserModel.ts":
/*!*****************************!*\
  !*** ./models/UserModel.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"UserModel\": () => (/* binding */ UserModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        required: true\n    },\n    password: {\n        type: String,\n        required: true\n    }\n});\nconst UserModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.users) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"users\", UserSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvVXNlck1vZGVsLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwQztBQUUxQyxNQUFNRSxhQUFhLElBQUlELDRDQUFNQSxDQUFDO0lBQzFCRSxNQUFLO1FBQUNDLE1BQU1DO1FBQVFDLFVBQVUsSUFBSTtJQUFBO0lBQ2xDQyxPQUFNO1FBQUNILE1BQU1DO1FBQVFDLFVBQVUsSUFBSTtJQUFBO0lBQ25DRSxVQUFTO1FBQUNKLE1BQU1DO1FBQVFDLFVBQVUsSUFBSTtJQUFBO0FBQzFDO0FBRU8sTUFBTUcsWUFBWVQsOERBQXFCLElBQzFDQSxxREFBYyxDQUFDLFNBQVNFLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZXJlbmNpYWRvci10YXJlZmFzLW5leHQyYW9qci8uL21vZGVscy9Vc2VyTW9kZWwudHM/MDg2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgbmFtZTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXG4gICAgZW1haWw6e3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxuICAgIHBhc3N3b3JkOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfVxufSk7XG5cbmV4cG9ydCBjb25zdCBVc2VyTW9kZWwgPSBtb25nb29zZS5tb2RlbHMudXNlcnMgfHxcbiAgICBtb25nb29zZS5tb2RlbCgndXNlcnMnLCBVc2VyU2NoZW1hKTsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJVc2VyU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwicGFzc3dvcmQiLCJVc2VyTW9kZWwiLCJtb2RlbHMiLCJ1c2VycyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./models/UserModel.ts\n");

/***/ }),

/***/ "(api)/./pages/api/task.ts":
/*!***************************!*\
  !*** ./pages/api/task.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _middlewares_database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../middlewares/database */ \"(api)/./middlewares/database.ts\");\n/* harmony import */ var _middlewares_jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../middlewares/jwt */ \"(api)/./middlewares/jwt.ts\");\n/* harmony import */ var _models_TaskModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../models/TaskModel */ \"(api)/./models/TaskModel.ts\");\n/* harmony import */ var _models_UserModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/UserModel */ \"(api)/./models/UserModel.ts\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nconst handler = async (req, res)=>{\n    try {\n        const userId = req?.body?.userId ? req.body.userId : req?.query?.userId;\n        const failedValidation = await validateUser(userId);\n        if (failedValidation) {\n            return res.status(400).json({\n                error: failedValidation\n            });\n        }\n        switch(req.method){\n            case \"GET\":\n                return await getTasks(req, res, userId);\n            case \"POST\":\n                return await saveTask(req, res, userId);\n            case \"PUT\":\n                return await updateTask(req, res, userId);\n            case \"DELETE\":\n                return await deleteTask(req, res, userId);\n            default:\n                return res.status(405).json({\n                    error: \"O M\\xe9todo HTTP informado n\\xe3o existe\"\n                });\n        }\n    } catch (e) {\n        console.log(\"Ocorreu erro ao utilizar as tarefa:\", e);\n        return res.status(500).json({\n            error: \"Ocorreu erro ao utilizar as tarefa, tente novamente\"\n        });\n    }\n};\nconst validateUser = async (userId)=>{\n    if (!userId) {\n        return \"Usuario nao informado\";\n    }\n    const userFound = await _models_UserModel__WEBPACK_IMPORTED_MODULE_3__.UserModel.findById(userId);\n    if (!userFound) {\n        return \"Usuario nao encontrado\";\n    }\n};\nconst getTasks = async (req, res, userId)=>{\n    const params = req.query;\n    const query = {\n        userId\n    };\n    if (params?.finishPrevisionStart) {\n        const inputDate = moment__WEBPACK_IMPORTED_MODULE_4___default()(params?.finishPrevisionStart);\n        query.finishPrevisionDate = {\n            $gte: inputDate.format(\"yyyy-MM-DD\")\n        };\n    }\n    if (params?.finishPrevisionEnd) {\n        const lastDate = moment__WEBPACK_IMPORTED_MODULE_4___default()(params?.finishPrevisionEnd);\n        if (!query.finishPrevisionDate) {\n            query.finishPrevisionDate = {};\n        }\n        query.finishPrevisionDate.$lte = lastDate.format(\"yyyy-MM-DD\");\n    }\n    if (params?.status) {\n        const status = parseInt(params?.status);\n        switch(status){\n            case 1:\n                query.finishDate = null;\n                break;\n            case 2:\n                query.finishDate = {\n                    $ne: null\n                };\n                break;\n            default:\n                break;\n        }\n    }\n    const result = await _models_TaskModel__WEBPACK_IMPORTED_MODULE_2__.TaskModel.find(query);\n    return res.status(200).json(result);\n};\nconst saveTask = async (req, res, userId)=>{\n    if (req.body) {\n        const task = req.body;\n        if (!task.name || task.name.length < 2) {\n            return res.status(400).json({\n                error: \"Nome da tarefa invalida\"\n            });\n        }\n        if (!task.finishPrevisionDate || moment__WEBPACK_IMPORTED_MODULE_4___default()(task.finishPrevisionDate).isBefore(moment__WEBPACK_IMPORTED_MODULE_4___default()())) {\n            return res.status(400).json({\n                error: \"Data de previsao invalida ou menor que hoje\"\n            });\n        }\n        const final = {\n            ...task,\n            userId,\n            finishDate: undefined\n        };\n        await _models_TaskModel__WEBPACK_IMPORTED_MODULE_2__.TaskModel.create(final);\n        return res.status(200).json({\n            message: \"Tarefa criada com sucesso\"\n        });\n    }\n    return res.status(400).json({\n        error: \"Parametros de entrada invalido\"\n    });\n};\nconst deleteTask = async (req, res, userId)=>{\n    const taskFound = await validateTaskAndReturnValue(req, userId);\n    if (!taskFound) {\n        return res.status(400).json({\n            error: \"Tarefa nao encontrada\"\n        });\n    }\n    await _models_TaskModel__WEBPACK_IMPORTED_MODULE_2__.TaskModel.findByIdAndDelete({\n        _id: taskFound._id\n    });\n    return res.status(200).json({\n        message: \"Tarefa deletada com sucesso\"\n    });\n};\nconst validateTaskAndReturnValue = async (req, userId)=>{\n    const id = req.query?.id;\n    if (!id || id.trim() === \"\") {\n        return null;\n    }\n    const taskFound = await _models_TaskModel__WEBPACK_IMPORTED_MODULE_2__.TaskModel.findById(id);\n    if (!taskFound || taskFound.userId !== userId) {\n        return null;\n    }\n    return taskFound;\n};\nconst updateTask = async (req, res, userId)=>{\n    const taskFound = await validateTaskAndReturnValue(req, userId);\n    if (!taskFound) {\n        return res.status(400).json({\n            error: \"Tarefa nao encontrada\"\n        });\n    }\n    if (req.body) {\n        const task = req.body;\n        if (task.name && task.name.trim() !== \"\") {\n            taskFound.name = task.name;\n        }\n        if (task.finishPrevisionDate) {\n            taskFound.finishPrevisionDate = task.finishPrevisionDate;\n        }\n        if (task.finishDate) {\n            taskFound.finishDate = task.finishDate;\n        }\n        await _models_TaskModel__WEBPACK_IMPORTED_MODULE_2__.TaskModel.findByIdAndUpdate({\n            _id: taskFound._id\n        }, taskFound);\n        return res.status(200).json({\n            message: \"Tarefa atualizada com sucesso\"\n        });\n    }\n    return res.status(400).json({\n        error: \"Parametro de entrada invalidos\"\n    });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_middlewares_database__WEBPACK_IMPORTED_MODULE_0__.connectToDB)((0,_middlewares_jwt__WEBPACK_IMPORTED_MODULE_1__.jwtValidator)(handler)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VyZW5jaWFkb3ItdGFyZWZhcy1uZXh0MmFvanIvLi9wYWdlcy9hcGkvdGFzay50cz80Y2FhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XG5pbXBvcnQgeyBjb25uZWN0VG9EQiB9IGZyb20gXCIuLi8uLi9taWRkbGV3YXJlcy9kYXRhYmFzZVwiO1xuaW1wb3J0IHsgand0VmFsaWRhdG9yIH0gZnJvbSBcIi4uLy4uL21pZGRsZXdhcmVzL2p3dFwiO1xuaW1wb3J0IHsgVGFza01vZGVsIH0gZnJvbSBcIi4uLy4uL21vZGVscy9UYXNrTW9kZWxcIjtcbmltcG9ydCB7IFVzZXJNb2RlbCB9IGZyb20gXCIuLi8uLi9tb2RlbHMvVXNlck1vZGVsXCI7XG5pbXBvcnQgeyBEZWZhdWx0TXNnUmVzcG9uc2UgfSBmcm9tIFwiLi4vLi4vdHlwZXMvRGVmYXVsdE1zZ1Jlc3BvbnNlXCI7XG5pbXBvcnQgeyBUYXNrIH0gZnJvbSBcIi4uLy4uL3R5cGVzL1Rhc2tcIjtcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuY29uc3QgaGFuZGxlciA9IGFzeW5jIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZTxEZWZhdWx0TXNnUmVzcG9uc2UgfCBvYmplY3Q+KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlcklkID0gcmVxPy5ib2R5Py51c2VySWQgPyByZXEuYm9keS51c2VySWQgOiByZXE/LnF1ZXJ5Py51c2VySWQ7XG4gICAgICAgIGNvbnN0IGZhaWxlZFZhbGlkYXRpb24gPSBhd2FpdCB2YWxpZGF0ZVVzZXIodXNlcklkKTtcbiAgICAgICAgaWYgKGZhaWxlZFZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBmYWlsZWRWYWxpZGF0aW9uIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChyZXEubWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlICdHRVQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBnZXRUYXNrcyhyZXEsIHJlcywgdXNlcklkKTtcbiAgICAgICAgICAgIGNhc2UgJ1BPU1QnOlxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBzYXZlVGFzayhyZXEsIHJlcywgdXNlcklkKTtcbiAgICAgICAgICAgIGNhc2UgJ1BVVCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHVwZGF0ZVRhc2socmVxLCByZXMsIHVzZXJJZCk7XG4gICAgICAgICAgICBjYXNlICdERUxFVEUnOlxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBkZWxldGVUYXNrKHJlcSwgcmVzLCB1c2VySWQpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ08gTcOpdG9kbyBIVFRQIGluZm9ybWFkbyBuw6NvIGV4aXN0ZScgfSk7XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICBjb25zb2xlLmxvZygnT2NvcnJldSBlcnJvIGFvIHV0aWxpemFyIGFzIHRhcmVmYTonLCBlKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdPY29ycmV1IGVycm8gYW8gdXRpbGl6YXIgYXMgdGFyZWZhLCB0ZW50ZSBub3ZhbWVudGUnIH0pO1xuICAgIH1cbn1cblxuY29uc3QgdmFsaWRhdGVVc2VyID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgICAgcmV0dXJuICdVc3VhcmlvIG5hbyBpbmZvcm1hZG8nO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZXJGb3VuZCA9IGF3YWl0IFVzZXJNb2RlbC5maW5kQnlJZCh1c2VySWQpO1xuICAgIGlmICghdXNlckZvdW5kKSB7XG4gICAgICAgIHJldHVybiAnVXN1YXJpbyBuYW8gZW5jb250cmFkbyc7XG4gICAgfVxufVxuXG5jb25zdCBnZXRUYXNrcyA9IGFzeW5jIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZTxEZWZhdWx0TXNnUmVzcG9uc2UgfCBUYXNrW10+LCB1c2VySWQ6IHN0cmluZykgPT4ge1xuXG4gICAgY29uc3QgcGFyYW1zID0gcmVxLnF1ZXJ5IGFzIGFueTtcblxuICAgIGNvbnN0IHF1ZXJ5ID0ge1xuICAgICAgICB1c2VySWRcbiAgICB9IGFzIGFueTtcblxuICAgIGlmIChwYXJhbXM/LmZpbmlzaFByZXZpc2lvblN0YXJ0KSB7XG4gICAgICAgIGNvbnN0IGlucHV0RGF0ZSA9IG1vbWVudChwYXJhbXM/LmZpbmlzaFByZXZpc2lvblN0YXJ0KTtcbiAgICAgICAgcXVlcnkuZmluaXNoUHJldmlzaW9uRGF0ZSA9IHsgJGd0ZTogaW5wdXREYXRlLmZvcm1hdCgneXl5eS1NTS1ERCcpIH1cbiAgICB9XG5cbiAgICBpZiAocGFyYW1zPy5maW5pc2hQcmV2aXNpb25FbmQpIHtcbiAgICAgICAgY29uc3QgbGFzdERhdGUgPSBtb21lbnQocGFyYW1zPy5maW5pc2hQcmV2aXNpb25FbmQpO1xuICAgICAgICBpZiAoIXF1ZXJ5LmZpbmlzaFByZXZpc2lvbkRhdGUpIHtcbiAgICAgICAgICAgIHF1ZXJ5LmZpbmlzaFByZXZpc2lvbkRhdGUgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBxdWVyeS5maW5pc2hQcmV2aXNpb25EYXRlLiRsdGUgPSBsYXN0RGF0ZS5mb3JtYXQoJ3l5eXktTU0tREQnKVxuICAgIH1cblxuICAgIGlmIChwYXJhbXM/LnN0YXR1cykge1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBwYXJzZUludChwYXJhbXM/LnN0YXR1cyk7XG4gICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcXVlcnkuZmluaXNoRGF0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcXVlcnkuZmluaXNoRGF0ZSA9IHsgJG5lOiBudWxsIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFRhc2tNb2RlbC5maW5kKHF1ZXJ5KSBhcyBUYXNrW107XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3VsdCk7XG59XG5cblxuY29uc3Qgc2F2ZVRhc2sgPSBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2U8RGVmYXVsdE1zZ1Jlc3BvbnNlPiwgdXNlcklkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAocmVxLmJvZHkpIHtcbiAgICAgICAgY29uc3QgdGFzayA9IHJlcS5ib2R5IGFzIFRhc2s7XG4gICAgICAgIGlmICghdGFzay5uYW1lIHx8IHRhc2submFtZS5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ05vbWUgZGEgdGFyZWZhIGludmFsaWRhJyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGFzay5maW5pc2hQcmV2aXNpb25EYXRlIHx8IG1vbWVudCh0YXNrLmZpbmlzaFByZXZpc2lvbkRhdGUpLmlzQmVmb3JlKG1vbWVudCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdEYXRhIGRlIHByZXZpc2FvIGludmFsaWRhIG91IG1lbm9yIHF1ZSBob2plJyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbmFsID0ge1xuICAgICAgICAgICAgLi4udGFzayxcbiAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgIGZpbmlzaERhdGU6IHVuZGVmaW5lZFxuICAgICAgICB9IGFzIGFueTtcblxuICAgICAgICBhd2FpdCBUYXNrTW9kZWwuY3JlYXRlKGZpbmFsKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1RhcmVmYSBjcmlhZGEgY29tIHN1Y2Vzc28nIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnUGFyYW1ldHJvcyBkZSBlbnRyYWRhIGludmFsaWRvJyB9KTtcbn1cblxuY29uc3QgZGVsZXRlVGFzayA9IGFzeW5jIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZTxEZWZhdWx0TXNnUmVzcG9uc2UgfCBUYXNrW10+LCB1c2VySWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHRhc2tGb3VuZCA9IGF3YWl0IHZhbGlkYXRlVGFza0FuZFJldHVyblZhbHVlKHJlcSwgdXNlcklkKTtcbiAgICBpZiAoIXRhc2tGb3VuZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1RhcmVmYSBuYW8gZW5jb250cmFkYScgfSk7XG4gICAgfVxuXG4gICAgYXdhaXQgVGFza01vZGVsLmZpbmRCeUlkQW5kRGVsZXRlKHsgX2lkOiB0YXNrRm91bmQuX2lkIH0pO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdUYXJlZmEgZGVsZXRhZGEgY29tIHN1Y2Vzc28nIH0pO1xufVxuXG5jb25zdCB2YWxpZGF0ZVRhc2tBbmRSZXR1cm5WYWx1ZSA9IGFzeW5jIChyZXE6IE5leHRBcGlSZXF1ZXN0LCB1c2VySWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGlkID0gcmVxLnF1ZXJ5Py5pZCBhcyBzdHJpbmc7XG5cbiAgICBpZiAoIWlkIHx8IGlkLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgdGFza0ZvdW5kID0gYXdhaXQgVGFza01vZGVsLmZpbmRCeUlkKGlkKTtcbiAgICBpZiAoIXRhc2tGb3VuZCB8fCB0YXNrRm91bmQudXNlcklkICE9PSB1c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhc2tGb3VuZDtcbn1cblxuXG5jb25zdCB1cGRhdGVUYXNrID0gYXN5bmMgKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlPERlZmF1bHRNc2dSZXNwb25zZSB8IFRhc2tbXT4sIHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdGFza0ZvdW5kID0gYXdhaXQgdmFsaWRhdGVUYXNrQW5kUmV0dXJuVmFsdWUocmVxLCB1c2VySWQpO1xuICAgIGlmICghdGFza0ZvdW5kKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnVGFyZWZhIG5hbyBlbmNvbnRyYWRhJyB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVxLmJvZHkpIHtcbiAgICAgICAgY29uc3QgdGFzayA9IHJlcS5ib2R5IGFzIFRhc2s7XG5cbiAgICAgICAgaWYgKHRhc2submFtZSAmJiB0YXNrLm5hbWUudHJpbSgpICE9PSAnJykge1xuICAgICAgICAgICAgdGFza0ZvdW5kLm5hbWUgPSB0YXNrLm5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFzay5maW5pc2hQcmV2aXNpb25EYXRlKSB7XG4gICAgICAgICAgICB0YXNrRm91bmQuZmluaXNoUHJldmlzaW9uRGF0ZSA9IHRhc2suZmluaXNoUHJldmlzaW9uRGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXNrLmZpbmlzaERhdGUpIHtcbiAgICAgICAgICAgIHRhc2tGb3VuZC5maW5pc2hEYXRlID0gdGFzay5maW5pc2hEYXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgVGFza01vZGVsLmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiB0YXNrRm91bmQuX2lkIH0sIHRhc2tGb3VuZCk7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdUYXJlZmEgYXR1YWxpemFkYSBjb20gc3VjZXNzbycgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdQYXJhbWV0cm8gZGUgZW50cmFkYSBpbnZhbGlkb3MnIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0VG9EQihqd3RWYWxpZGF0b3IoaGFuZGxlcikpOyJdLCJuYW1lcyI6WyJjb25uZWN0VG9EQiIsImp3dFZhbGlkYXRvciIsIlRhc2tNb2RlbCIsIlVzZXJNb2RlbCIsIm1vbWVudCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJ1c2VySWQiLCJib2R5IiwicXVlcnkiLCJmYWlsZWRWYWxpZGF0aW9uIiwidmFsaWRhdGVVc2VyIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwibWV0aG9kIiwiZ2V0VGFza3MiLCJzYXZlVGFzayIsInVwZGF0ZVRhc2siLCJkZWxldGVUYXNrIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyRm91bmQiLCJmaW5kQnlJZCIsInBhcmFtcyIsImZpbmlzaFByZXZpc2lvblN0YXJ0IiwiaW5wdXREYXRlIiwiZmluaXNoUHJldmlzaW9uRGF0ZSIsIiRndGUiLCJmb3JtYXQiLCJmaW5pc2hQcmV2aXNpb25FbmQiLCJsYXN0RGF0ZSIsIiRsdGUiLCJwYXJzZUludCIsImZpbmlzaERhdGUiLCIkbmUiLCJyZXN1bHQiLCJmaW5kIiwidGFzayIsIm5hbWUiLCJsZW5ndGgiLCJpc0JlZm9yZSIsImZpbmFsIiwidW5kZWZpbmVkIiwiY3JlYXRlIiwibWVzc2FnZSIsInRhc2tGb3VuZCIsInZhbGlkYXRlVGFza0FuZFJldHVyblZhbHVlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJfaWQiLCJpZCIsInRyaW0iLCJmaW5kQnlJZEFuZFVwZGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/task.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/task.ts"));
module.exports = __webpack_exports__;

})();